(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[294],{21601:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var r=s(95155),a=s(66695),i=s(30285),n=s(35169),l=s(57434),o=s(91788),d=s(12115),c=s(26597),u=s(5976);function m(e){let{params:t}=e,{topicId:s}=t,[m,f]=(0,d.useState)(null),[h,x]=(0,d.useState)("");(0,d.useEffect)(()=>{let e=localStorage.getItem("studyMaterials");if(e){let t=JSON.parse(e).find(e=>e.id===s);t?(f(t.studyGuide),x(t.title)):(f("No study guide available for this topic."),x("Unknown Topic"))}else f("No study guide available for this topic."),x("Unknown Topic")},[s]);let p=async()=>{if(!m)return;let e=h.replace(/\*(.*?)\*/g,"$1"),t=new u.yoT({sections:[{properties:{},children:[new u.fzL({text:e,heading:u.Fmo.TITLE}),...m.split("\n").map(e=>{let t;if(""===e.trim())return new u.fzL({});let s=e.replace(/\*(.*?)\*/g,"$1");return new u.fzL(e.startsWith("### ")?{text:s.substring(4),heading:u.Fmo.HEADING_1}:e.startsWith("## ")?{text:s.substring(3),heading:u.Fmo.HEADING_2}:e.startsWith("# ")?{text:s.substring(2),heading:u.Fmo.HEADING_3}:e.startsWith("• ")?{text:s,bullet:{level:0}}:{text:s})})]}]}),s=await u.ND6.toBlob(t),r=window.URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download="".concat(h.replace(/\s+/g,"_"),"_study_guide.docx"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)},g=e=>e.includes("*")?e.split(/(\*[^*]+\*)/).map((e,t)=>{if(e.startsWith("*")&&e.endsWith("*")){let s=e.slice(1,-1);return(0,r.jsx)("em",{className:"italic font-medium",children:s},t)}return e}):e,b=null==m?void 0:m.split("\n").map((e,t)=>{if(""===e.trim())return(0,r.jsx)("div",{className:"h-4"},t);if(e.startsWith("### ")){let s=e.substring(4);return(0,r.jsx)("h2",{className:"text-2xl font-bold mt-8 mb-4 text-primary border-b pb-2",children:g(s)},t)}if(e.startsWith("## ")){let s=e.substring(3);return(0,r.jsx)("h3",{className:"text-xl font-semibold mt-6 mb-3 text-foreground/90",children:g(s)},t)}if(e.startsWith("# ")){let s=e.substring(2);return(0,r.jsx)("h4",{className:"text-lg font-medium mt-4 mb-2 text-foreground/80",children:g(s)},t)}if(e.startsWith("• ")){let s=e.substring(2);return(0,r.jsxs)("li",{className:"ml-6 mb-2 text-foreground/80",style:{listStyleType:"none",position:"relative"},children:[(0,r.jsx)("span",{style:{position:"absolute",left:"-1.2em",fontSize:"1.2em",lineHeight:"1.2"},children:"•"}),g(s)]},t)}if(/^\d+\.\s/.test(e)){var s;let a=e.replace(/^\d+\.\s/,"");return(0,r.jsxs)("div",{className:"flex gap-2 ml-6 mb-2",children:[(0,r.jsxs)("span",{className:"text-primary/70 font-medium min-w-[1.5rem]",children:[null==(s=e.match(/^\d+/))?void 0:s[0],"."]}),(0,r.jsx)("span",{className:"text-foreground/80",children:g(a)})]},t)}return(0,r.jsx)("p",{className:"mb-3 leading-relaxed text-foreground/80",children:g(e)},t)}).filter(Boolean);return(0,r.jsxs)("div",{className:"container max-w-4xl py-10",children:[(0,r.jsxs)(i.$,{variant:"ghost",onClick:()=>window.history.back(),className:"mb-6",children:[(0,r.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-primary",children:h}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.$,{onClick:()=>{if(!m)return;let e=new c.Ay,t=e.internal.pageSize.width,s=e.internal.pageSize.height,r=t-40,a=20,i=m.split("\n");e.setFont("helvetica","bold"),e.setFontSize(24);let n=h.replace(/\*(.*?)\*/g,"$1");e.text(n,20,a),a+=20,i.forEach(t=>{if(""===t.trim()){(a+=10)>=s-20&&(e.addPage(),a=20);return}a>=s-20&&(e.addPage(),a=20);let i=t.replace(/\*(.*?)\*/g,"$1");if(t.startsWith("### ")){e.setFont("helvetica","bold"),e.setFontSize(20);let t=i.replace("### ","");e.text(t,20,a),a+=15}else if(t.startsWith("## ")){e.setFont("helvetica","bold"),e.setFontSize(18);let t=i.replace("## ","");e.text(t,20,a),a+=12}else if(t.startsWith("# ")){e.setFont("helvetica","bold"),e.setFontSize(16);let t=i.replace("# ","");e.text(t,20,a),a+=10}else if(t.startsWith("• ")){e.setFont("helvetica","normal"),e.setFontSize(12);let t=i.substring(2),n=e.getTextWidth("• ");e.splitTextToSize(t,r-n).forEach((t,r)=>{a>=s-20&&(e.addPage(),a=20),0===r&&e.text("• ",20,a),e.text(t,20+n,a),a+=8}),a+=4}else if(/^\d+\./.test(t)){e.setFont("helvetica","normal"),e.setFontSize(12);let t=i.match(/^\d+\./),n=t?e.getTextWidth(t[0]+" "):0;e.splitTextToSize(i,r-n).forEach((t,r)=>{a>=s-20&&(e.addPage(),a=20),e.text(t,20,a),a+=8}),a+=4}else e.setFont("helvetica","normal"),e.setFontSize(12),e.splitTextToSize(i,r).forEach(t=>{a>=s-20&&(e.addPage(),a=20),e.text(t,20,a),a+=8}),a+=4}),e.save("".concat(h.replace(/\s+/g,"-").toLowerCase(),"-study-guide.pdf"))},variant:"outline",children:[(0,r.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Download PDF"]}),(0,r.jsxs)(i.$,{onClick:p,variant:"outline",children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Download DOCX"]})]})]}),(0,r.jsxs)(a.Zp,{className:"shadow-lg",children:[(0,r.jsx)(a.aR,{className:"border-b",children:(0,r.jsx)(a.ZB,{children:"Study Guide"})}),(0,r.jsx)(a.Wu,{className:"p-8",children:b?(0,r.jsx)("div",{className:"space-y-1",children:b}):(0,r.jsx)("p",{className:"text-muted-foreground",children:"No study guide available for this topic."})})]})]})}},30285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>o});var r=s(95155),a=s(12115),i=s(99708),n=s(74466),l=s(59434);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:a,size:n,className:s})),ref:t,...c})});d.displayName="Button"},59434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(52596),a=s(39688);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},66695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>l});var r=s(95155),a=s(12115),i=s(59434);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},76733:(e,t,s)=>{Promise.resolve().then(s.bind(s,21601))}},e=>{var t=t=>e(e.s=t);e.O(0,[489,930,455,641,151,441,684,358],()=>t(76733)),_N_E=e.O()}]);